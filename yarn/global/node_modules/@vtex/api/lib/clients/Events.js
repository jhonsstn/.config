"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const HttpClient_1 = require("../HttpClient");
const eventRoute = (route) => `/events/${route}`;
class Events extends HttpClient_1.InfraClient {
    constructor(context, options) {
        super('courier@0.x', Object.assign({}, context, { recorder: undefined }), options);
        this.sendEvent = (subject, route, message) => {
            const resource = subject === '' || subject === '-'
                ? ''
                : `vrn:apps:aws-us-east-1:${this.context.account}:${this.context.workspace}:/apps/${subject}`;
            return this.http.put(eventRoute(route), message, {
                metric: 'events-send',
                params: { resource },
            });
        };
    }
}
exports.Events = Events;
