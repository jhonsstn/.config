"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const vtex_1 = require("vtex");
const diff_1 = tslib_1.__importDefault(require("../../modules/deps/diff"));
class DepsDiff extends vtex_1.CustomCommand {
    async run() {
        const { args: { workspace1, workspace2 }, } = this.parse(DepsDiff);
        await diff_1.default(workspace1, workspace2);
    }
}
exports.default = DepsDiff;
DepsDiff.description = `Displays the differences between the dependencies of two distinct workspaces. If a single parameter is passed, the specified workspace's dependencies are compared with the master's. If no parameter is passed, the diff is made between the current workspace and master.`;
DepsDiff.examples = [`vtex deps diff workspace1 workspace2`];
DepsDiff.flags = {
    ...vtex_1.CustomCommand.globalFlags,
};
DepsDiff.args = [
    {
        name: 'workspace1',
        required: false,
        default: vtex_1.SessionManager.getSingleton().workspace,
        description: `First ${vtex_1.ColorifyConstants.ID('workspace')} for comparison.`,
    },
    {
        name: 'workspace2',
        required: false,
        default: 'master',
        description: `Second ${vtex_1.ColorifyConstants.ID('workspace')} for comparison.`,
    },
];
