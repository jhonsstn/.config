"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vtex_1 = require("vtex");
const utils_1 = require("./utils");
const Messages_1 = require("../../lib/constants/Messages");
exports.default = async (workspace1 = 'master', workspace2) => {
    workspace2 = workspace2 !== null && workspace2 !== void 0 ? workspace2 : vtex_1.SessionManager.getSingleton().workspace;
    const deps1 = await utils_1.getCleanDependencies(workspace1);
    const deps2 = await utils_1.getCleanDependencies(workspace2);
    const diffTable = vtex_1.matchedDepsDiffTable(workspace1, workspace2, deps1, deps2);
    if (diffTable.length === 1) {
        return console.log(Messages_1.Messages.DEPS_DIFF_EMPTY(workspace1, workspace2));
    }
    console.log(Messages_1.Messages.DEPS_DIFF_INIT(workspace1, workspace2));
    console.log(diffTable.toString());
};
