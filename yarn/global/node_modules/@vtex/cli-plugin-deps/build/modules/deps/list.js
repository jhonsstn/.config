"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vtex_1 = require("vtex");
const utils_1 = require("./utils");
const Messages_1 = require("../../lib/constants/Messages");
const { getDependencies } = vtex_1.createAppsClient();
exports.default = async (flags) => {
    vtex_1.logger.debug(Messages_1.Messages.DEPS_LIST_INIT);
    const deps = await getDependencies();
    const keysOnly = flags.keys;
    if (!flags.npm) {
        utils_1.removeNpm(deps)(!keysOnly);
    }
    const result = keysOnly ? Object.keys(deps) : deps;
    console.log(JSON.stringify(result, null, 2));
};
